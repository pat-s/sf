<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Write simple features object to file or database — st_write • sf</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Write simple features object to file or database — st_write" />
<meta property="og:description" content="Write simple features object to file or database" />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sf</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9-6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/sf1.html">1. Simple Features for R</a>
    </li>
    <li>
      <a href="../articles/sf2.html">2. Reading, Writing and Converting Simple Features</a>
    </li>
    <li>
      <a href="../articles/sf3.html">3. Manipulating Simple Feature Geometries</a>
    </li>
    <li>
      <a href="../articles/sf4.html">4. Manipulating Simple Features</a>
    </li>
    <li>
      <a href="../articles/sf5.html">5. Plotting Simple Features</a>
    </li>
    <li>
      <a href="../articles/sf6.html">6. Miscellaneous</a>
    </li>
    <li>
      <a href="../articles/sf7.html">7. Spherical geometry in sf using s2geometry</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/r-spatial/sf/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Write simple features object to file or database</h1>
    <small class="dont-index">Source: <a href='https://github.com/r-spatial/sf/blob/master/R/read.R'><code>R/read.R</code></a>, <a href='https://github.com/r-spatial/sf/blob/master/R/db.R'><code>R/db.R</code></a></small>
    <div class="hidden name"><code>st_write.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Write simple features object to file or database</p>
    </div>

    <pre class="usage"><span class='fu'>st_write</span>(<span class='no'>obj</span>, <span class='no'>dsn</span>, <span class='no'>layer</span>, <span class='no'>...</span>)

<span class='co'># S3 method for sfc</span>
<span class='fu'>st_write</span>(<span class='no'>obj</span>, <span class='no'>dsn</span>, <span class='no'>layer</span>, <span class='no'>...</span>)

<span class='co'># S3 method for sf</span>
<span class='fu'>st_write</span>(
  <span class='no'>obj</span>,
  <span class='no'>dsn</span>,
  <span class='kw'>layer</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='no'>...</span>,
  <span class='kw'>driver</span> <span class='kw'>=</span> <span class='fu'>guess_driver_can_write</span>(<span class='no'>dsn</span>),
  <span class='kw'>dataset_options</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>layer_options</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>quiet</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>factorsAsCharacter</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>append</span> <span class='kw'>=</span> <span class='fl'>NA</span>,
  <span class='kw'>delete_dsn</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>delete_layer</span> <span class='kw'>=</span> !<span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span>(<span class='no'>append</span>) <span class='kw'>&amp;&amp;</span> !<span class='no'>append</span>,
  <span class='kw'>fid_column_name</span> <span class='kw'>=</span> <span class='kw'>NULL</span>
)

<span class='co'># S3 method for data.frame</span>
<span class='fu'>st_write</span>(<span class='no'>obj</span>, <span class='no'>dsn</span>, <span class='kw'>layer</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='fu'>write_sf</span>(<span class='no'>...</span>, <span class='kw'>quiet</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>append</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>delete_layer</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'># S4 method for PostgreSQLConnection,character,sf</span>
<span class='fu'>dbWriteTable</span>(
  <span class='no'>conn</span>,
  <span class='no'>name</span>,
  <span class='no'>value</span>,
  <span class='no'>...</span>,
  <span class='kw'>row.names</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>overwrite</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>append</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>field.types</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>factorsAsCharacter</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>binary</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>
)

<span class='co'># S4 method for DBIObject,character,sf</span>
<span class='fu'>dbWriteTable</span>(
  <span class='no'>conn</span>,
  <span class='no'>name</span>,
  <span class='no'>value</span>,
  <span class='no'>...</span>,
  <span class='kw'>row.names</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>overwrite</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>append</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>field.types</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>factorsAsCharacter</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>binary</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>obj</th>
      <td><p>object of class <code>sf</code> or <code>sfc</code></p></td>
    </tr>
    <tr>
      <th>dsn</th>
      <td><p>data source name (interpretation varies by driver - for some drivers, dsn is a file name, but may also be a
folder or contain a database name) or a Database Connection (currently
official support is for RPostgreSQL connections)</p></td>
    </tr>
    <tr>
      <th>layer</th>
      <td><p>layer name (varies by driver, may be a file name without extension); if layer is missing, the
<a href='https://rdrr.io/r/base/basename.html'>basename</a> of <code>dsn</code> is taken.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>other arguments passed to dbWriteTable when <code>dsn</code> is a
Database Connection</p></td>
    </tr>
    <tr>
      <th>driver</th>
      <td><p>character; name of driver to be used; if missing and <code>dsn</code> is not a Database Connection, a driver name is guessed from <code>dsn</code>;
<code><a href='st_drivers.html'>st_drivers()</a></code> returns the drivers that are available with their properties; links to full driver documentation
are found at <a href='http://www.gdal.org/ogr_formats.html'>http://www.gdal.org/ogr_formats.html</a>.</p></td>
    </tr>
    <tr>
      <th>dataset_options</th>
      <td><p>character; driver dependent dataset creation options;
multiple options supported.</p></td>
    </tr>
    <tr>
      <th>layer_options</th>
      <td><p>character; driver dependent layer creation options;
multiple options supported.</p></td>
    </tr>
    <tr>
      <th>quiet</th>
      <td><p>logical; suppress info on name, driver, size and spatial reference</p></td>
    </tr>
    <tr>
      <th>factorsAsCharacter</th>
      <td><p>logical; convert <code>factor</code> objects into
character strings (default), else into numbers by <code>as.numeric</code>.</p></td>
    </tr>
    <tr>
      <th>append</th>
      <td><p>Append rows to existing table; default <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>delete_dsn</th>
      <td><p>logical; delete data source <code>dsn</code> before attempting
to write?</p></td>
    </tr>
    <tr>
      <th>delete_layer</th>
      <td><p>logical; delete layer <code>layer</code> before attempting to
write?</p></td>
    </tr>
    <tr>
      <th>fid_column_name</th>
      <td><p>character, name of column with feature IDs; if
specified, this column is no longer written as feature attribute.</p></td>
    </tr>
    <tr>
      <th>conn</th>
      <td><p>DBIObject</p></td>
    </tr>
    <tr>
      <th>name</th>
      <td><p>character vector of names (table names, fields, keywords).</p></td>
    </tr>
    <tr>
      <th>value</th>
      <td><p>a data.frame.</p></td>
    </tr>
    <tr>
      <th>row.names</th>
      <td><p>Add a <code>row.name</code> column, or a vector of length <code><a href='https://rdrr.io/r/base/nrow.html'>nrow(obj)</a></code>
containing row.names; default <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>overwrite</th>
      <td><p>Will try to <code>drop</code> table before writing; default <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>field.types</th>
      <td><p>default <code>NULL</code>. Allows to override type conversion from R
to PostgreSQL. See <code>dbDataType()</code> for details.</p></td>
    </tr>
    <tr>
      <th>binary</th>
      <td><p>Send geometries serialized as Well-Known Binary (WKB);
if <code>FALSE</code>, uses Well-Known Text (WKT). Defaults to <code>TRUE</code> (WKB).</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>obj</code>, invisibly; in case <code>obj</code> is of class <code>sfc</code>,
it is returned as an <code>sf</code> object.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Columns (variables) of a class not supported are dropped with a warning.</p>
<p>When updating an existing layer, records are appended to it if the updating
object has the right variable names and types. If names don't match an
error is raised. If types don't match, behaviour is undefined: GDAL may
raise warnings or errors or fail silently.</p>
<p>When deleting layers or data sources is not successful, no error is emitted.
<code>delete_dsn</code> and <code>delete_layer</code> should be
handled with care; the former may erase complete directories or databases.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='st_drivers.html'>st_drivers</a></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>nc</span> <span class='kw'>=</span> <span class='fu'><a href='st_read.html'>st_read</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"shape/nc.shp"</span>, <span class='kw'>package</span><span class='kw'>=</span><span class='st'>"sf"</span>))</div><div class='output co'>#&gt; Reading layer `nc' from data source `/private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/Rtmpvbcm4O/temp_libpath39963d6f0fd6/sf/shape/nc.shp' using driver `ESRI Shapefile'
#&gt; Simple feature collection with 100 features and 14 fields
#&gt; geometry type:  MULTIPOLYGON
#&gt; dimension:      XY
#&gt; bbox:           xmin: -84.32385 ymin: 33.88199 xmax: -75.45698 ymax: 36.58965
#&gt; geographic CRS: NAD27</div><div class='input'><span class='fu'>st_write</span>(<span class='no'>nc</span>, <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span>(), <span class='st'>"/"</span>, <span class='st'>"nc.shp"</span>))</div><div class='output co'>#&gt; Writing layer `nc' to data source `/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T//Rtmp1E3rmR/nc.shp' using driver `ESRI Shapefile'
#&gt; Writing 100 features with 14 fields and geometry type Multi Polygon.</div><div class='input'><span class='fu'>st_write</span>(<span class='no'>nc</span>, <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span>(), <span class='st'>"/"</span>, <span class='st'>"nc.shp"</span>), <span class='kw'>delete_layer</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>) <span class='co'># overwrites</span></div><div class='output co'>#&gt; Deleting layer `nc' using driver `ESRI Shapefile'
#&gt; Writing layer `nc' to data source `/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T//Rtmp1E3rmR/nc.shp' using driver `ESRI Shapefile'
#&gt; Writing 100 features with 14 fields and geometry type Multi Polygon.</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>meuse</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"sp"</span>) <span class='co'># loads data.frame from sp</span>
<span class='no'>meuse_sf</span> <span class='kw'>=</span> <span class='fu'><a href='st_as_sf.html'>st_as_sf</a></span>(<span class='no'>meuse</span>, <span class='kw'>coords</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"x"</span>, <span class='st'>"y"</span>), <span class='kw'>crs</span> <span class='kw'>=</span> <span class='fl'>28992</span>)
<span class='co'># writes X and Y as columns:</span>
<span class='fu'>st_write</span>(<span class='no'>meuse_sf</span>, <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span>(), <span class='st'>"/"</span>, <span class='st'>"meuse.csv"</span>), <span class='kw'>layer_options</span> <span class='kw'>=</span> <span class='st'>"GEOMETRY=AS_XY"</span>)</div><div class='output co'>#&gt; Writing layer `meuse' to data source `/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T//Rtmp1E3rmR/meuse.csv' using driver `CSV'
#&gt; options:        GEOMETRY=AS_XY 
#&gt; Writing 155 features with 12 fields and geometry type Point.</div><div class='input'><span class='fu'>st_write</span>(<span class='no'>meuse_sf</span>, <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span>(), <span class='st'>"/"</span>, <span class='st'>"meuse.csv"</span>), <span class='kw'>layer_options</span> <span class='kw'>=</span> <span class='st'>"GEOMETRY=AS_WKT"</span>,
  <span class='kw'>delete_dsn</span><span class='kw'>=</span><span class='fl'>TRUE</span>) <span class='co'># overwrites</span></div><div class='output co'>#&gt; Deleting source `/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T//Rtmp1E3rmR/meuse.csv' using driver `CSV'
#&gt; Writing layer `meuse' to data source `/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T//Rtmp1E3rmR/meuse.csv' using driver `CSV'
#&gt; options:        GEOMETRY=AS_WKT 
#&gt; Writing 155 features with 12 fields and geometry type Point.</div><div class='input'><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
 <span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>sp</span>)
 <span class='fu'><a href='https://rdrr.io/r/utils/example.html'>example</a></span>(<span class='no'>meuse</span>, <span class='kw'>ask</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>echo</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
 <span class='fu'><a href='https://rdrr.io/r/base/try.html'>try</a></span>(<span class='fu'>st_write</span>(<span class='fu'><a href='st_as_sf.html'>st_as_sf</a></span>(<span class='no'>meuse</span>), <span class='st'>"PG:dbname=postgis"</span>, <span class='st'>"meuse_sf"</span>,
     <span class='kw'>layer_options</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"OVERWRITE=yes"</span>, <span class='st'>"LAUNDER=true"</span>)))
 <span class='fu'><a href='https://rdrr.io/r/utils/demo.html'>demo</a></span>(<span class='no'>nc</span>, <span class='kw'>ask</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
 <span class='fu'><a href='https://rdrr.io/r/base/try.html'>try</a></span>(<span class='fu'>st_write</span>(<span class='no'>nc</span>, <span class='st'>"PG:dbname=postgis"</span>, <span class='st'>"sids"</span>, <span class='kw'>layer_options</span> <span class='kw'>=</span> <span class='st'>"OVERWRITE=true"</span>))
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Edzer Pebesma.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


